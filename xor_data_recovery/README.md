# XOR data recovery

The XOR operation ('^' in C/C++) allows for a method of backing up **n** blocks
of data with one backup block. This backup block can then be used to retrieve
a single missing block of data, so long as the other blocks remain in place.
This is similar to how
[RAID 4,5](https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_4) are
implemented.

 - [main.c on Netrun](https://lawlor.cs.uaf.edu/netrun/run?name=example_c&code=%23include%3Cstdio.h%3E%0D%0A%0D%0Avoid%20print_data%28int%2A%20data%2C%20unsigned%20int%20size%29%20%7B%0D%0A%20%20printf%28%22data%20%3D%20%7B%20%22%29%3B%0D%0A%20%20for%28unsigned%20int%20i%20%3D%200%3B%20i%20%3C%20size%3B%20%2B%2Bi%29%20%7B%0D%0A%20%20%20%20if%28i%20%3C%20size%20-%201%29%20%7B%0D%0A%20%20%20%20%20%20printf%28%220x%25x%2C%20%22%2C%20data%5Bi%5D%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20printf%28%220x%25x%22%2C%20data%5Bi%5D%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20printf%28%22%20%7D%5Cn%22%29%3B%0D%0A%7D%0D%0A%0D%0Aint%20main%28%29%20%7B%0D%0A%20%20enum%20%7B%20DATA_SIZE%20%3D%206%20%7D%3B%0D%0A%20%20int%20data%5BDATA_SIZE%5D%20%3D%20%7B%200xf00d%2C%200xdead%2C%200xbad1%2C%200xbad2%2C%200xdecaf%2C%200xcafe%20%7D%3B%0D%0A%0D%0A%20%20printf%28%22suppose%20we%20have%20a%20collection%20of%20data%20%28all%20the%20same%20size%2C%20in%20our%20case%3A%20ints%29%3A%5Cn%22%29%3B%0D%0A%20%20print_data%28data%2C%20DATA_SIZE%29%3B%0D%0A%0D%0A%20%20int%20backup%20%3D%200%3B%0D%0A%20%20for%28unsigned%20int%20i%20%3D%200%3B%20i%20%3C%20DATA_SIZE%3B%20%2B%2Bi%29%20%7B%0D%0A%20%20%20%20backup%20%3D%20backup%20%5E%20data%5Bi%5D%3B%0D%0A%20%20%7D%0D%0A%0D%0A%20%20printf%28%22XORing%20all%20the%20values%20together%20we%20can%20compute%20the%20backup%3A%5Cn%22%29%3B%0D%0A%20%20printf%28%22backup%20%3D%200x%25x%5Cn%22%2C%20backup%29%3B%0D%0A%0D%0A%20%20data%5B3%5D%20%3D%200%3B%0D%0A%0D%0A%20%20printf%28%22suppose%20that%20exactly%20one%20of%20the%20values%20is%20lost%3A%5Cn%22%29%3B%0D%0A%20%20print_data%28data%2C%20DATA_SIZE%29%3B%0D%0A%0D%0A%20%20int%20recover%20%3D%20backup%3B%0D%0A%20%20for%28unsigned%20int%20i%20%3D%200%3B%20i%20%3C%20DATA_SIZE%3B%20%2B%2Bi%29%20%7B%0D%0A%20%20%20%20recover%20%3D%20recover%20%5E%20data%5Bi%5D%3B%0D%0A%20%20%7D%0D%0A%20%20data%5B3%5D%20%3D%20recover%3B%0D%0A%20%0D%0A%20%20printf%28%22if%20we%20XOR%20all%20the%20remaining%20data%20with%20the%20backup%2C%20we%20retrieve%20the%20value%3A%5Cn%22%29%3B%0D%0A%20%20print_data%28data%2C%20DATA_SIZE%29%3B%0D%0A%0D%0A%20%20return%200%3B%0D%0A%7D&lang=C&mach=skylake64&mode=main&input=&linkwith=&foo_ret=long&foo_arg0=void&orun=Run&orun=Grade&ocompile=Optimize&ocompile=Warnings)
