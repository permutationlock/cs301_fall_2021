# Bits in a float

Using a [C union](https://en.cppreference.com/w/c/language/union)
we extract the different parts of a floating point
number's bit representation.

 - [main.c on Netrun](https://lawlor.cs.uaf.edu/netrun/run?name=example_c&code=%23include%3Cstdlib.h%3E%0D%0A%23include%3Cmath.h%3E%0D%0A%23include%3Cstdio.h%3E%0D%0A%0D%0Avoid%20print_bits%28long%20n%2C%20unsigned%20int%20length%29%20%7B%0D%0A%20%20for%28int%20i%20%3D%20length%20-%201%3B%20i%20%3E%3D%200%3B%20--i%29%20%7B%0D%0A%20%20%20%20int%20bit_mask%20%3D%201%20%3C%3C%20i%3B%0D%0A%20%20%20%20if%28%28bit_mask%20%26%20n%29%20%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20printf%28%220%22%29%3B%0D%0A%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20printf%28%221%22%29%3B%0D%0A%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20if%28i%20%25%204%20%3D%3D%200%29%20%7B%0D%0A%20%20%20%20%20%20printf%28%22%20%22%29%3B%0D%0A%20%20%20%20%7D%0D%0A%20%20%7D%0D%0A%20%20printf%28%22%5Cn%22%29%3B%0D%0A%7D%0D%0A%0D%0Astruct%20float_breakdown_t%20%7B%0D%0A%20%20unsigned%20int%20fraction%3A23%3B%0D%0A%20%20unsigned%20int%20exp%3A8%3B%0D%0A%20%20unsigned%20int%20sign%3A1%3B%0D%0A%7D%3B%0D%0A%0D%0Aunion%20float_t%20%7B%0D%0A%20%20float%20number%3B%0D%0A%20%20struct%20float_breakdown_t%20breakdown%3B%0D%0A%7D%3B%0D%0A%0D%0Avoid%20print_float_dissection%28float%20f%29%20%7B%0D%0A%20%20union%20float_t%20fd%3B%0D%0A%20%20fd.number%20%3D%20f%3B%0D%0A%20%20printf%28%22%25.2f%20has%20the%20following%20breakdown%3A%5Cn%22%2C%20fd.number%29%3B%0D%0A%20%20printf%28%22sign%3A%20%22%29%3B%0D%0A%20%20print_bits%28fd.breakdown.sign%2C%201%29%3B%0D%0A%20%20printf%28%22exp%3A%20%28%25d%29%20%22%2C%20fd.breakdown.exp%20-%20127%29%3B%0D%0A%20%20print_bits%28fd.breakdown.exp%2C%208%29%3B%0D%0A%20%20printf%28%22fraction%3A%20%22%29%3B%0D%0A%20%20print_bits%28fd.breakdown.fraction%2C%2023%29%3B%0D%0A%20%20printf%28%22%5Cn%22%29%3B%0D%0A%7D%0D%0A%0D%0Aint%20main%28%29%20%7B%0D%0A%20%20print_float_dissection%281.0%29%3B%0D%0A%20%20print_float_dissection%288.0%29%3B%0D%0A%20%20print_float_dissection%283.0%29%3B%0D%0A%20%20print_float_dissection%281.0%2F2.0%29%3B%0D%0A%20%20print_float_dissection%280.1%29%3B%0D%0A%20%20print_float_dissection%280.0%29%3B%0D%0A%0D%0A%20%20print_float_dissection%281.0%2F0.0%29%3B%0D%0A%20%20print_float_dissection%28log%280.0%29%29%3B%0D%0A%20%20print_float_dissection%28sqrt%28-1%29%29%3B%0D%0A%20%20return%200%3B%0D%0A%7D&lang=C&mach=skylake64&mode=main&input=&linkwith=&foo_ret=long&foo_arg0=void&orun=Run&orun=Grade&ocompile=Optimize&ocompile=Warnings)
